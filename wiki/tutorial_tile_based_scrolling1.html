<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta name="generator" content="MediaWiki 1.16.2" />
<link rel="shortcut icon" href="favicon1.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc1.php" title="LOVE (en)" />
<link title="Creative Commons" type="application/rdf+xml" href="" rel="meta" />
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html" />
<link rel="alternate" type="application/atom+xml" title="LOVE Atom feed" href="" />		<title>Tutorial:Tile-based Scrolling - LOVE</title>
		<link rel="stylesheet" href="shared1.css" media="screen" />
<link rel="stylesheet" href="commonprint1.css" media="print" />
<link rel="stylesheet" href="main1.css" media="screen" />
<link rel="stylesheet" href="" />
<link rel="stylesheet" href="" media="print" />
<link rel="stylesheet" href="" />
<link rel="stylesheet" href="" />
		<!--[if lt IE 7]><script type="text/javascript" src="iefixes1.js_270"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->

		<script>
var skin="love",
stylepath="/w/skins",
wgUrlProtocols="http\\:\\/\\/|https\\:\\/\\/|ftp\\:\\/\\/|irc\\:\\/\\/|gopher\\:\\/\\/|telnet\\:\\/\\/|nntp\\:\\/\\/|worldwind\\:\\/\\/|mailto\\:|news\\:|svn\\:\\/\\/",
wgArticlePath="/wiki/$1",
wgScriptPath="/w",
wgScriptExtension=".php",
wgScript="/w/index.php",
wgVariantArticlePath=false,
wgActionPaths={},
wgServer="https://www.love2d.org",
wgCanonicalNamespace="Tutorial",
wgCanonicalSpecialPageName=false,
wgNamespaceNumber=500,
wgPageName="Tutorial:Tile-based_Scrolling",
wgTitle="Tile-based Scrolling",
wgAction="view",
wgArticleId=500,
wgIsArticle=true,
wgUserName=null,
wgUserGroups=null,
wgUserLanguage="en",
wgContentLanguage="en",
wgBreakFrames=false,
wgCurRevisionId=9947,
wgVersion="1.16.2",
wgEnableAPI=true,
wgEnableWriteAPI=true,
wgSeparatorTransformTable=["", ""],
wgDigitTransformTable=["", ""],
wgMainPageTitle="Main Page",
wgFormattedNamespaces={"-2": "Media", "-1": "Special", "0": "", "1": "Talk", "2": "User", "3": "User talk", "4": "LOVE", "5": "LOVE talk", "6": "File", "7": "File talk", "8": "MediaWiki", "9": "MediaWiki talk", "10": "Template", "11": "Template talk", "12": "Help", "13": "Help talk", "14": "Category", "15": "Category talk", "102": "Property", "103": "Property talk", "104": "Type", "105": "Type talk", "108": "Concept", "109": "Concept talk", "500": "Tutorial", "501": "Tutorial talk"},
wgNamespaceIds={"media": -2, "special": -1, "": 0, "talk": 1, "user": 2, "user_talk": 3, "love": 4, "love_talk": 5, "file": 6, "file_talk": 7, "mediawiki": 8, "mediawiki_talk": 9, "template": 10, "template_talk": 11, "help": 12, "help_talk": 13, "category": 14, "category_talk": 15, "property": 102, "property_talk": 103, "type": 104, "type_talk": 105, "concept": 108, "concept_talk": 109, "tutorial": 500, "tutorial_talk": 501, "image": 6, "image_talk": 7},
wgSiteName="LOVE",
wgCategories=["Tutorials"],
wgRestrictionEdit=[],
wgRestrictionMove=[];
</script>
		<script type="text/javascript" src="wikibits1.js_270"><!-- wikibits js --></script>
		<!-- Head Scripts -->
<script src="ajax1.js_270"></script>
		<link rel="alternate" type="application/rdf+xml" title="Tutorial:Tile-based Scrolling" href="" />
		<script type="text/javascript" src=""><!-- site js --></script>
  <!-- Google Analytics -->
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-6143729-1']);
    _gaq.push(['_trackPageview']);
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script src="egg1.js"></script>
  <link href="https://plus.google.com/b/108553500970002863436/" rel="publisher" />
	</head>
<body class="mediawiki ltr ns-500 ns-subject page-Tutorial_Tile-based_Scrolling skin-love">
	<div id="globalWrapper">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
			
		<div id="p-cactions">
			<h5>Views</h5>
			<div>
				<ul>
		
					 <li id="ca-nstab-tutorial" class="selected"><a href="">Tutorial</a></li>
					 <li id="ca-talk" class="new"><a href="" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
					 <li id="ca-viewsource"><a href="" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></li>
					 <li id="ca-history"><a href="" title="Past revisions of this page [h]" accesskey="h">History</a></li>				</ul>
			</div>
		</div>
	
		<h1 id="firstHeading" class="firstHeading">Tutorial:Tile-based Scrolling</h1>
		<div id="bodyContent">
			<div id="contentSub"></div>
									<!-- start content -->
			<p>In this little tutorial we will cover a widely used technique used to draw game backgrounds: tilemaps. Using this technique, our backgrounds are going to be made up of pieces (tiles) that, drawn together, will allow us to create bigger and more complex levels without using huge amounts of memory. The basic idea is to have a 2d value table, where each value represents a tile. Using that table, we will know what tiles to draw at a certain position, given some basic parameters like the map width, height and the current coordinates of an imaginary viewport. Don't worry if you don't understand these terms right now, I'll explain them in more detail as we start coding. 
So, let's start with some variables:
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="lua source-lua"><span class="co1">-- our tiles</span><br />&nbsp; &nbsp;tile <span class="sy0">=</span> <span class="br0">&#123;</span><span class="br0">&#125;</span><br />&nbsp; &nbsp;<span class="kw1">for</span> i<span class="sy0">=</span><span class="nu0">0</span>,<span class="nu0">3</span> <span class="kw1">do</span> <span class="co1">-- change 3 to the number of tile images minus 1.</span><br />&nbsp; &nbsp; &nbsp; tile<span class="br0">&#91;</span>i<span class="br0">&#93;</span> <span class="sy0">=</span> love.graphics.newImage<span class="br0">&#40;</span> <span class="st0">&quot;tile&quot;</span>..i..<span class="st0">&quot;.png&quot;</span> <span class="br0">&#41;</span><br />&nbsp; &nbsp;<span class="kw1">end</span><br />&nbsp; &nbsp;<br />&nbsp; &nbsp;love.graphics.setNewFont<span class="br0">&#40;</span><span class="nu0">12</span><span class="br0">&#41;</span><br />&nbsp; &nbsp;<br />&nbsp; &nbsp;<span class="co1">-- map variables</span><br />&nbsp; &nbsp;map_w <span class="sy0">=</span> <span class="nu0">20</span><br />&nbsp; &nbsp;map_h <span class="sy0">=</span> <span class="nu0">20</span><br />&nbsp; &nbsp;map_x <span class="sy0">=</span> <span class="nu0">0</span><br />&nbsp; &nbsp;map_y <span class="sy0">=</span> <span class="nu0">0</span><br />&nbsp; &nbsp;map_offset_x <span class="sy0">=</span> <span class="nu0">30</span><br />&nbsp; &nbsp;map_offset_y <span class="sy0">=</span> <span class="nu0">30</span><br />&nbsp; &nbsp;map_display_w <span class="sy0">=</span> <span class="nu0">14</span><br />&nbsp; &nbsp;map_display_h <span class="sy0">=</span> <span class="nu0">10</span><br />&nbsp; &nbsp;tile_w <span class="sy0">=</span> <span class="nu0">48</span><br />&nbsp; &nbsp;tile_h <span class="sy0">=</span> <span class="nu0">48</span></div></div>
<p>We first create a Lua table to store our tiles. As I already said, these are little bitmaps we'll use to draw our maps, something like mosaics, which are made up of smaller pieces. Since this will be a very simple tilemap, we'll just use four tiles, loading them inside a for loop. Now, the next thing we have to do is set up a handful of map and tile variables to be able to draw the map correctly. This ones should be pretty self-explanatory: besides height and width of the tiles and our tilemap, we also have the size of the region of tiles to display. The two offset variables are used to define the point where we will start drawing out tilemap. You might want to play a little with these variables to see their effects. Now, to the map structure itself:
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="lua source-lua">map<span class="sy0">=</span><span class="br0">&#123;</span><br />&nbsp; &nbsp;<span class="br0">&#123;</span> <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span><span class="br0">&#125;</span>, <br />&nbsp; &nbsp;<span class="br0">&#123;</span> <span class="nu0">0</span>, <span class="nu0">1</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">2</span>, <span class="nu0">2</span>, <span class="nu0">2</span>, <span class="nu0">0</span>, <span class="nu0">3</span>, <span class="nu0">0</span>, <span class="nu0">3</span>, <span class="nu0">0</span>, <span class="nu0">1</span>, <span class="nu0">1</span>, <span class="nu0">1</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span><span class="br0">&#125;</span>,<br />&nbsp; &nbsp;<span class="br0">&#123;</span> <span class="nu0">0</span>, <span class="nu0">1</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">2</span>, <span class="nu0">0</span>, <span class="nu0">2</span>, <span class="nu0">0</span>, <span class="nu0">3</span>, <span class="nu0">0</span>, <span class="nu0">3</span>, <span class="nu0">0</span>, <span class="nu0">1</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span><span class="br0">&#125;</span>,<br />&nbsp; &nbsp;<span class="br0">&#123;</span> <span class="nu0">0</span>, <span class="nu0">1</span>, <span class="nu0">1</span>, <span class="nu0">0</span>, <span class="nu0">2</span>, <span class="nu0">2</span>, <span class="nu0">2</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">3</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">1</span>, <span class="nu0">1</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span><span class="br0">&#125;</span>,<br />&nbsp; &nbsp;<span class="br0">&#123;</span> <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">1</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span><span class="br0">&#125;</span>,<br />&nbsp; &nbsp;<span class="br0">&#123;</span> <span class="nu0">0</span>, <span class="nu0">1</span>, <span class="nu0">0</span>, <span class="nu0">1</span>, <span class="nu0">1</span>, <span class="nu0">1</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">1</span>, <span class="nu0">1</span>, <span class="nu0">1</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span><span class="br0">&#125;</span>,<br />&nbsp; &nbsp;<span class="br0">&#123;</span> <span class="nu0">0</span>, <span class="nu0">1</span>, <span class="nu0">0</span>, <span class="nu0">1</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span><span class="br0">&#125;</span>,<br />&nbsp; &nbsp;<span class="br0">&#123;</span> <span class="nu0">0</span>, <span class="nu0">1</span>, <span class="nu0">0</span>, <span class="nu0">1</span>, <span class="nu0">1</span>, <span class="nu0">1</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span><span class="br0">&#125;</span>,<br />&nbsp; &nbsp;<span class="br0">&#123;</span> <span class="nu0">0</span>, <span class="nu0">1</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">1</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span><span class="br0">&#125;</span>,<br />&nbsp; &nbsp;<span class="br0">&#123;</span> <span class="nu0">0</span>, <span class="nu0">1</span>, <span class="nu0">0</span>, <span class="nu0">1</span>, <span class="nu0">1</span>, <span class="nu0">1</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span><span class="br0">&#125;</span>,<br />&nbsp; &nbsp;<span class="br0">&#123;</span> <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span><span class="br0">&#125;</span>,<br />&nbsp; &nbsp;<span class="br0">&#123;</span> <span class="nu0">0</span>, <span class="nu0">2</span>, <span class="nu0">2</span>, <span class="nu0">2</span>, <span class="nu0">0</span>, <span class="nu0">3</span>, <span class="nu0">3</span>, <span class="nu0">3</span>, <span class="nu0">0</span>, <span class="nu0">1</span>, <span class="nu0">1</span>, <span class="nu0">1</span>, <span class="nu0">0</span>, <span class="nu0">2</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span><span class="br0">&#125;</span>,<br />&nbsp; &nbsp;<span class="br0">&#123;</span> <span class="nu0">0</span>, <span class="nu0">2</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">3</span>, <span class="nu0">0</span>, <span class="nu0">3</span>, <span class="nu0">0</span>, <span class="nu0">1</span>, <span class="nu0">0</span>, <span class="nu0">1</span>, <span class="nu0">0</span>, <span class="nu0">2</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span><span class="br0">&#125;</span>,<br />&nbsp; &nbsp;<span class="br0">&#123;</span> <span class="nu0">0</span>, <span class="nu0">2</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">3</span>, <span class="nu0">0</span>, <span class="nu0">3</span>, <span class="nu0">0</span>, <span class="nu0">1</span>, <span class="nu0">0</span>, <span class="nu0">1</span>, <span class="nu0">0</span>, <span class="nu0">2</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span><span class="br0">&#125;</span>,<br />&nbsp; &nbsp;<span class="br0">&#123;</span> <span class="nu0">0</span>, <span class="nu0">2</span>, <span class="nu0">2</span>, <span class="nu0">2</span>, <span class="nu0">0</span>, <span class="nu0">3</span>, <span class="nu0">3</span>, <span class="nu0">3</span>, <span class="nu0">0</span>, <span class="nu0">1</span>, <span class="nu0">1</span>, <span class="nu0">1</span>, <span class="nu0">0</span>, <span class="nu0">2</span>, <span class="nu0">2</span>, <span class="nu0">2</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span><span class="br0">&#125;</span>,<br />&nbsp; &nbsp;<span class="br0">&#123;</span> <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span><span class="br0">&#125;</span>,<br />&nbsp; &nbsp;<span class="br0">&#123;</span> <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span><span class="br0">&#125;</span>,<br />&nbsp; &nbsp;<span class="br0">&#123;</span> <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span><span class="br0">&#125;</span>,<br />&nbsp; &nbsp;<span class="br0">&#123;</span> <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span><span class="br0">&#125;</span>,<br />&nbsp; &nbsp;<span class="br0">&#123;</span> <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span><span class="br0">&#125;</span>,<br /><span class="br0">&#125;</span></div></div>
<p><br />
As you can see, not much magic here, we just define a 2d table where each number represents an index of our tile table. In our example, the zero represents grass, the one represents dirt, the two represents stone and the three represents water. Obviously, your tiles may represent whatever you want, even parts of a bigger structure if you so desire. 
Let's continue:
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="lua source-lua"><span class="kw1">function</span> draw_map<span class="br0">&#40;</span><span class="br0">&#41;</span><br />&nbsp; &nbsp;<span class="kw1">for</span> y<span class="sy0">=</span><span class="nu0">1</span>, map_display_h <span class="kw1">do</span><br />&nbsp; &nbsp; &nbsp; <span class="kw1">for</span> x<span class="sy0">=</span><span class="nu0">1</span>, map_display_w <span class="kw1">do</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;love.graphics.draw<span class="br0">&#40;</span> <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tile<span class="br0">&#91;</span>map<span class="br0">&#91;</span>y+map_y<span class="br0">&#93;</span><span class="br0">&#91;</span>x+map_x<span class="br0">&#93;</span><span class="br0">&#93;</span>, <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">&#40;</span>x<span class="sy0">*</span>tile_w<span class="br0">&#41;</span>+map_offset_x, <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">&#40;</span>y<span class="sy0">*</span>tile_h<span class="br0">&#41;</span>+map_offset_y <span class="br0">&#41;</span><br />&nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br />&nbsp; &nbsp;<span class="kw1">end</span><br /><span class="kw1">end</span></div></div>
<p><br />
To keep our <code><a href="love317.html" title="love.draw">love.draw</a></code> callback clean, I decided to move our little map drawing routine its own function. Again, nothing really impressive here, we just go through our map table, checking every column (x values) for each row (y values). You can draw as many tiles as you want, just change the <code>map_display_h</code> and <code>map_display_w</code> variables accordingly. Just note that if you give them too high values you'll start drawing tiles off-screen, wasting time and resources. You can change the coordinates of the region to be drawn just by changing the <code>map_x</code> and <code>map_y</code> values. 
</p><p>Obviously, you have to call <code>draw_map()</code> in your <code><a href="love317.html" title="love.draw">love.draw</a></code> callback. If you run your example right now, you should see our little tilemap on screen. You can't do any scrolling right now, but we'll get onto that right now, adding the following to our <code><a href="love311.html" title="love.keypressed">love.keypressed</a></code> callback:
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="lua source-lua"><span class="kw1">function</span> love.keypressed<span class="br0">&#40;</span>key, unicode<span class="br0">&#41;</span><br />&nbsp; &nbsp;<span class="kw1">if</span> key <span class="sy0">==</span> <span class="st0">'up'</span> <span class="kw1">then</span><br />&nbsp; &nbsp; &nbsp; map_y <span class="sy0">=</span> map_y-<span class="nu0">1</span><br />&nbsp; &nbsp; &nbsp; <span class="kw1">if</span> map_y <span class="sy0">&lt;</span> <span class="nu0">0</span> <span class="kw1">then</span> map_y <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> <span class="kw1">end</span><br />&nbsp; &nbsp;<span class="kw1">end</span><br />&nbsp; &nbsp;<span class="kw1">if</span> key <span class="sy0">==</span> <span class="st0">'down'</span> <span class="kw1">then</span><br />&nbsp; &nbsp; &nbsp; map_y <span class="sy0">=</span> map_y+<span class="nu0">1</span><br />&nbsp; &nbsp; &nbsp; <span class="kw1">if</span> map_y <span class="sy0">&gt;</span> map_h-map_display_h <span class="kw1">then</span> map_y <span class="sy0">=</span> map_h-map_display_h<span class="sy0">;</span> <span class="kw1">end</span><br />&nbsp; &nbsp;<span class="kw1">end</span><br />&nbsp; &nbsp;<br />&nbsp; &nbsp;<span class="kw1">if</span> key <span class="sy0">==</span> <span class="st0">'left'</span> <span class="kw1">then</span><br />&nbsp; &nbsp; &nbsp; map_x <span class="sy0">=</span> <span class="kw1">math.max</span><span class="br0">&#40;</span>map_x-<span class="nu0">1</span>, <span class="nu0">0</span><span class="br0">&#41;</span><br />&nbsp; &nbsp;<span class="kw1">end</span><br />&nbsp; &nbsp;<span class="kw1">if</span> key <span class="sy0">==</span> <span class="st0">'right'</span> <span class="kw1">then</span><br />&nbsp; &nbsp; &nbsp; map_x <span class="sy0">=</span> <span class="kw1">math.min</span><span class="br0">&#40;</span>map_x+<span class="nu0">1</span>, map_w-map_display_w<span class="br0">&#41;</span><br />&nbsp; &nbsp;<span class="kw1">end</span><br /><span class="kw1">end</span></div></div>
<p><br />
This is fairly simple: first, we check if the arrow keys are being pressed and we update the <code>map_x</code> and <code>map_y</code> variables accordingly. Remember, here we're talking on tile coordinates so when we're increasing or decreasing <code>map_x</code> or <code>map_y</code> by one, we're actually moving 64 px (the size of a single tile). Finally, to avoid off-map scrolling, we include some boundary checking code. The <i>y</i>-coordinates shows a simple way of checking the boundaries while the boundary checks for <i>x</i>-coordinates use a more concise variant.
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="lua source-lua"><span class="kw1">function</span> love.draw<span class="br0">&#40;</span><span class="br0">&#41;</span><br />&nbsp; draw_map<span class="br0">&#40;</span><span class="br0">&#41;</span><br /><span class="kw1">end</span></div></div>
<p>Finally, we use our draw_map () that we created earlier to actually display the tiles.
</p><p>Now go and run your script. Isn't LÖVE cool? You bet it is, congratulations on making your first tilemap scroller! 
While this little example should be enough to get you up and running, there are quite a few possible enhancements: 
</p>
<ul><li> Writing our maps by hand is a little stupid, we should make them with tools like <a href="tiled1.html" title="Tiled">Tiled</a> and load them in our game.
</li><li> Drawing characters inside the tilemap.
</li><li> Fine scrolling: As you probably noticed, the map scrolls tile by tile and you probably don't want that if you need to move your characters/object pixel by pixel. (<a href="tutorial_fine_tile_based_scrolling1.html" title="Tutorial:Fine Tile-based Scrolling">Example</a>)
</li><li> Multi-layered maps: Most real tile engines are able to render more than one layer. Together with fine scrolling, you would be able to scroll a near layer at a certain speed and move another one behind it more slowly.
</li><li> Character to map collisions.
</li></ul>
<h2> <span class="mw-headline" id="See_Also"> See Also </span></h2>
<p><a href="tutorial_fine_tile_based_scrolling1.html" title="Tutorial:Fine Tile-based Scrolling">Fine Tile-based Scrolling</a><br />
<a href="tutorial_efficient_tile_based_scrolling1.html" title="Tutorial:Efficient Tile-based Scrolling">Efficient Tile-based Scrolling</a>
</p><p><br />
</p><p><br />
</p>
<h2> <span class="mw-headline" id="Other_languages"> Other languages </span></h2>
<div class="i18n">
<p><a href="" class="new" title="Tutorial:Tile-based Scrolling Functions (Dansk) (page does not exist)">Dansk</a>&nbsp;&ndash;
<a href="" class="new" title="Tutorial:Tile-based Scrolling Functions (Deutsch) (page does not exist)">Deutsch</a>&nbsp;&ndash;
<a href="" class="new" title="Tutorial:Tile-based Scrolling Functions (page does not exist)">English</a>&nbsp;&ndash; 
<a href="" class="new" title="Tutorial:Tile-based Scrolling Functions (Español) (page does not exist)">Español</a>&nbsp;&ndash;
<a href="" class="new" title="Tutorial:Tile-based Scrolling Functions (Français) (page does not exist)">Français</a>&nbsp;&ndash;
<a href="" class="new" title="Tutorial:Tile-based Scrolling Functions (Indonesia) (page does not exist)">Indonesia</a>&nbsp;&ndash;
<a href="" class="new" title="Tutorial:Tile-based Scrolling Functions (Italiano) (page does not exist)">Italiano</a>&nbsp;&ndash;
<a href="" class="new" title="Tutorial:Tile-based Scrolling Functions (Lietuviškai) (page does not exist)">Lietuviškai</a>&nbsp;&ndash;
<a href="" class="new" title="Tutorial:Tile-based Scrolling Functions (Magyar) (page does not exist)">Magyar</a>&nbsp;&ndash;
<a href="" class="new" title="Tutorial:Tile-based Scrolling Functions (Nederlands) (page does not exist)">Nederlands</a>&nbsp;&ndash;
<a href="" class="new" title="Tutorial:Tile-based Scrolling Functions (Polski) (page does not exist)">Polski</a>&nbsp;&ndash;
<a href="" class="new" title="Tutorial:Tile-based Scrolling Functions (Português) (page does not exist)">Português</a>&nbsp;&ndash;
<a href="" class="new" title="Tutorial:Tile-based Scrolling Functions (Română) (page does not exist)">Română</a>&nbsp;&ndash;
<a href="" class="new" title="Tutorial:Tile-based Scrolling Functions (Slovenský) (page does not exist)">Slovenský</a>&nbsp;&ndash;
<a href="" class="new" title="Tutorial:Tile-based Scrolling Functions (Suomi) (page does not exist)">Suomi</a>&nbsp;&ndash;
<a href="" class="new" title="Tutorial:Tile-based Scrolling Functions (Svenska) (page does not exist)">Svenska</a>&nbsp;&ndash;
<a href="" class="new" title="Tutorial:Tile-based Scrolling Functions (Türkçe) (page does not exist)">Türkçe</a>&nbsp;&ndash;
<a href="" class="new" title="Tutorial:Tile-based Scrolling Functions (Česky) (page does not exist)">Česky</a>&nbsp;&ndash;
<a href="" class="new" title="Tutorial:Tile-based Scrolling Functions (Ελληνικά) (page does not exist)">Ελληνικά</a>&nbsp;&ndash;
<a href="" class="new" title="Tutorial:Tile-based Scrolling Functions (Български) (page does not exist)">Български</a>&nbsp;&ndash;
<a href="" class="new" title="Tutorial:Tile-based Scrolling Functions (Русский) (page does not exist)">Русский</a>&nbsp;&ndash;
<a href="" class="new" title="Tutorial:Tile-based Scrolling Functions (Српски) (page does not exist)">Српски</a>&nbsp;&ndash;
<a href="" class="new" title="Tutorial:Tile-based Scrolling Functions (Українська) (page does not exist)">Українська</a>&nbsp;&ndash;
<a href="" class="new" title="Tutorial:Tile-based Scrolling Functions (עברית) (page does not exist)">עברית</a>&nbsp;&ndash;
<a href="" class="new" title="Tutorial:Tile-based Scrolling Functions (ไทย) (page does not exist)">ไทย</a>&nbsp;&ndash;
<a href="" class="new" title="Tutorial:Tile-based Scrolling Functions (日本語) (page does not exist)">日本語</a>&nbsp;&ndash;
<a href="" class="new" title="Tutorial:Tile-based Scrolling Functions (正體中文) (page does not exist)">正體中文</a>&nbsp;&ndash;
<a href="" class="new" title="Tutorial:Tile-based Scrolling Functions (简体中文) (page does not exist)">简体中文</a>&nbsp;&ndash;
<a href="" class="new" title="Tutorial:Tile-based Scrolling Functions (Tiếng Việt) (page does not exist)">Tiếng Việt</a>&nbsp;&ndash;
<a href="" class="new" title="Tutorial:Tile-based Scrolling Functions (한국어) (page does not exist)">한국어</a> 
<br />
<span style="text-align:right;"><i><a href="help_i18n1.html" title="Help:i18n">More info</a></i></span>
</p>
</div>

<!-- 
NewPP limit report
Preprocessor node count: 290/1000000
Post-expand include size: 4739/2097152 bytes
Template argument size: 2822/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key love2d_wiki:pcache:idhash:500-0!1!0!!en!2!edit=0 and timestamp 20150125181611 -->
<div class="printfooter">
Retrieved from "<a href="https://www.love2d.org/wiki/Tutorial:Tile-based_Scrolling">https://www.love2d.org/wiki/Tutorial:Tile-based_Scrolling</a>"</div>
			<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks"><a href="" title="Special:Categories">Category</a>: <span dir='ltr'><a href="category_tutorials4.html" title="Category:Tutorials">Tutorials</a></span></div></div>			<!-- end content -->
						<div class="visualClear"></div>
		</div>
	</div>
		</div>
		<div id="column-one">

	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a href="" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a style="background-image: url(wiki1.png);" href="index9.html" title="Visit the main page"></a>
	</div>
<!--	<div class="portlet" id="p-docs">
		<h5>Documentation</h5>
		<div class="pBody">
			<ul>
				<li><a href="love272.html">love</a></li>
				<li><a href="love273.html">love.audio</a></li>
				<li><a href="love274.html">love.event</a></li>
				<li><a href="love275.html">love.filesystem</a></li>
				<li><a href="love276.html">love.graphics</a></li>
				<li><a href="love277.html">love.image</a></li>
				<li><a href="love278.html">love.joystick</a></li>
				<li><a href="love279.html">love.keyboard</a></li>
				<li><a href="love280.html">love.math</a></li>
				<li><a href="love281.html">love.mouse</a></li>
				<li><a href="love282.html">love.physics</a></li>
				<li><a href="love283.html">love.sound</a></li>
				<li><a href="love284.html">love.system</a></li>
				<li><a href="love285.html">love.timer</a></li>
				<li><a href="love286.html">love.window</a></li>
			</ul>
		</div>
	</div> -->
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
	<div class='generated-sidebar portlet' id='p-documentation'>
		<h5>documentation</h5>
		<div class='pBody'>
			<ul>
				<li id="n-love"><a href="love272.html">love</a></li>
				<li id="n-love.audio"><a href="love273.html">love.audio</a></li>
				<li id="n-love.event"><a href="love274.html">love.event</a></li>
				<li id="n-love.filesystem"><a href="love275.html">love.filesystem</a></li>
				<li id="n-love.font"><a href="love287.html">love.font</a></li>
				<li id="n-love.graphics"><a href="love276.html">love.graphics</a></li>
				<li id="n-love.image"><a href="love277.html">love.image</a></li>
				<li id="n-love.joystick"><a href="love278.html">love.joystick</a></li>
				<li id="n-love.keyboard"><a href="love279.html">love.keyboard</a></li>
				<li id="n-love.math"><a href="love280.html">love.math</a></li>
				<li id="n-love.mouse"><a href="love281.html">love.mouse</a></li>
				<li id="n-love.physics"><a href="love282.html">love.physics</a></li>
				<li id="n-love.sound"><a href="love283.html">love.sound</a></li>
				<li id="n-love.system"><a href="love284.html">love.system</a></li>
				<li id="n-love.thread"><a href="love288.html">love.thread</a></li>
				<li id="n-love.timer"><a href="love285.html">love.timer</a></li>
				<li id="n-love.window"><a href="love286.html">love.window</a></li>
			</ul>
		</div>
	</div>
	<div class='generated-sidebar portlet' id='p-navigation'>
		<h5>Navigation</h5>
		<div class='pBody'>
			<ul>
				<li id="n-Home"><a href="love2d1.html">Home</a></li>
				<li id="n-Forums"><a href="forums.html">Forums</a></li>
				<li id="n-Issue-tracker"><a href="http://bitbucket.org/rude/love/issues">Issue tracker</a></li>
			</ul>
		</div>
	</div>
	<div class='generated-sidebar portlet' id='p-wiki_navigation'>
		<h5>wiki navigation</h5>
		<div class='pBody'>
			<ul>
				<li id="n-mainpage-description"><a href="index9.html" title="Visit the main page [z]" accesskey="z">Main page</a></li>
				<li id="n-recentchanges"><a href="" title="The list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
				<li id="n-randompage"><a href="" title="Load a random page [x]" accesskey="x">Random page</a></li>
			</ul>
		</div>
	</div>
	<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="w1.html" id="searchform"><div>
				<input type='hidden' name="title" value="Special:Search"/>
				<input id="searchInput" name="search" type="text" title="Search LOVE [f]" accesskey="f" value="" />
				<input type='submit' name="go" class="searchButton" id="searchGoButton"	value="Go" title="Go to a page with this exact name if exists" />&nbsp;
				<input type='submit' name="fulltext" class="searchButton" id="mw-searchButton" value="Search" title="Search the pages for this text" />
			</div></form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="" title="List of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
				<li id="t-recentchangeslinked"><a href="" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
<li id="t-specialpages"><a href="" title="List of all special pages [q]" accesskey="q">Special pages</a></li>
				<li id="t-print"><a href="" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>				<li id="t-permalink"><a href="" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-smwbrowselink"><a href="" title="Special:Browse/Tutorial:Tile-2Dbased Scrolling">Browse properties</a></li>			</ul>
		</div>
	</div>
		</div><!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="poweredby_mediawiki_88x311.png" height="31" width="88" alt="Powered by MediaWiki" /></a></div>
				<div id="f-copyrightico"><a href="http://www.gnu.org/copyleft/fdl.html"><img src="gnu_fdl1.png" alt="GNU Free Documentation License 1.3" width="88" height="31" /></a></div>
			<ul id="f-list">
					<li id="lastmod"> This page was last modified on 9 March 2013, at 12:12.</li>
					<li id="viewcount">This page has been accessed 46,633 times.</li>
					<li id="copyright">Content is available under <a href="http://www.gnu.org/copyleft/fdl.html" class="external ">GNU Free Documentation License 1.3</a>.</li>
					<li id="privacy"><a href="love_privacy_policy1.html" title="LOVE:Privacy policy">Privacy policy</a></li>
					<li id="about"><a href="love_about1.html" title="LOVE:About">About LOVE</a></li>
					<li id="disclaimer"><a href="love_general_disclaimer1.html" title="LOVE:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
</div>

<script>if (window.runOnloadHook) runOnloadHook();</script>
<!-- Served in 0.289 secs. --></body></html>
